<section class="w-75 mx-auto bg-main-light p-5 rounded my-4">
    <h1>Register Now: </h1>

    <form [formGroup]="RegisterForm" (ngSubmit)="handleForm()">
        <div class="mb-2" >
            <label for="name">Name:</label>
            <input #inputname type="text" id="name" formControlName="name" class="form-control">

            <div class="alert alert-danger" *ngIf="RegisterForm.get('name')?.errors && (RegisterForm.get('name')?.touched || inputname.value.length>0 ) ">
                <p *ngIf="RegisterForm.get('name')?.getError('required')">name is required</p>
                <p *ngIf="RegisterForm.get('name')?.getError('minlength')">the minlength is 3</p>
                <p *ngIf="RegisterForm.get('name')?.getError('maxlength')">the maxlength is 20</p>

            </div>
        </div>
        
        <div class="mb-2" >
            <label for="email">Email:</label>
            <input #inputEmail type="email" id="email" formControlName="email" class="form-control">

            <div class="alert alert-danger" *ngIf="RegisterForm.get('email')?.errors &&(RegisterForm.get('email')?.touched||inputEmail.value.length>0) ">
                <p *ngIf="RegisterForm.get('email')?.getError('required')">email is required</p>
                <p *ngIf="RegisterForm.get('email')?.getError('email')">the email is invalid</p>

            </div>
        </div>
        <div class="mb-2" >
            <label for="Password">Password:</label>
            <input #inputPassword type="password" id="Password" formControlName="password" class="form-control">
            <div class="alert alert-danger" *ngIf="RegisterForm.get('password')?.errors && (RegisterForm.get('password')?.touched||inputPassword.value.length>0)">
                <p *ngIf="RegisterForm.get('password')?.getError('required')">password is required</p>
                <p *ngIf="RegisterForm.get('password')?.getError('pattern')">the password must start with uppercase &at least 20 characters</p>

            </div>
        </div>
        <div class="mb-2" >
            <label for="rePassword">rePassword:</label>
            <input #repassword type="password" id="rePassword" formControlName="rePassword" class="form-control">
            <div class="alert alert-danger" *ngIf="RegisterForm.get('rePassword')?.errors &&(RegisterForm.get('rePassword')?.touched||repassword.value.length>0) ">
                <p *ngIf="RegisterForm.get('rePassword')?.getError('required')">rePassword is required</p>
                <p *ngIf="RegisterForm.get('rePassword')?.getError('pattern')">the rePassword must start with uppercase &at least 7 characters</p>

            </div>
        </div>
        <div class="mb-2" >
            <label for="phone">Phone:</label>
            <input #tel type="tel" id="phone" formControlName="phone" class="form-control">
            <div class="alert alert-danger" *ngIf="RegisterForm.get('phone')?.errors && (RegisterForm.get('phone')?.touched||tel.value.length)">
                <p *ngIf="RegisterForm.get('phone')?.getError('required')">phone is required</p>
                <p *ngIf="RegisterForm.get('phone')?.getError('pattern')">the phone must be Egyptian</p>

            </div>
        </div>
        <button [disabled]="RegisterForm.invalid"class="btn-main ms-auto d-block">
            <i *ngIf="isLoading" class="fa-solid fa-spinner fa-spin"></i>
            Register
        </button>
<p class=" mt-3 alert alert-danger" *ngIf="errorMsg">{{errorMsg}}</p>
    </form>
</section>
